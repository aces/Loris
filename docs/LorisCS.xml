<?xml version="1.0"?>
<ruleset name="Loris Standard">
    <description>The coding standard for the Loris project</description>

    <!-- Include the PEAR standard -->
    <rule ref="PEAR"/>

    <!-- Pieces of other standards to include... -->

    <!-- Make sure there's no weird spacing for array brackets -->
    <rule ref="Squiz.Arrays.ArrayBracketSpacing" />

    <!-- Pick up any calls to deprecated functions. -->
    <rule ref="Generic.PHP.DeprecatedFunctions"/>

    <!--  Indent arrays by 4 spaces -->
    <rule ref="Generic.Arrays.ArrayIndent"/>

    <!-- Multiline functions should include one argument per line -->
    <rule ref="PEAR.Functions.FunctionCallSignature">
        <properties>
            <property name="allowMultipleArguments" value="false"/>
        </properties>
    </rule>

    <!-- Equal signs need to be aligned with other equal signs -->
    <rule ref="Generic.Formatting.MultipleStatementAlignment">
        <properties>
            <property name="maxPadding" value="12"/>
            <property name="error" value="true"/>
        </properties>
    </rule>

    <!-- Ensure that array double arrows are aligned properly -->
    <rule ref="Squiz.Arrays.ArrayDeclaration.DoubleArrowNotAligned"/>

    <!-- Do not allow call time pass by reference because it generates warnings
         in the logs, they should be defined on the function not by the runtime -->
    <rule ref="Generic.Functions.CallTimePassByReference" />

    <!-- Do not allow characters before PHP opening tag because that can cause
         problems with the HTML output. -->
    <rule ref="Generic.PHP.CharacterBeforePHPOpeningTag" />

    <!-- Do not allow errors to be silenced, they should be fixed. -->
    <rule ref="Generic.PHP.NoSilencedErrors"/>

    <!-- Deprecated functions that will cause errors on different versions
         of PHP -->
    <!-- This is not directly included in PHPCS, but a third party
         extension.. it can be run manually by anyone who's installed
         the extension -->
    <!-- rule ref="PHPCompatibility.PHP.DeprecatedFunctions"/-->

    <!-- Do not allow trailing whitespace at the end of lines -->
    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace" />

    <!-- Ensure that proper line endings are used -->
     <rule ref="Generic.Files.LineEndings">
         <properties>
             <property name="eolChar" value="\n"/>
         </properties>
     </rule>
     <!-- Do not allow PHP closing tags because they can cause problems -->
     <rule ref="PSR2.Files.ClosingTag"/>
</ruleset>
