<?xml version="1.0" encoding="ISO-8859-1" ?>
<!--

  NB: because study and sites elements get merged in a recursive and
  overwriting manner, any time when multiple elements of the same type
  (such as <item/> <item/>) occurs in the study or sites tree, the
  sites tree will overwrite the element entirely instead of simply
  merging - i.e., if the multiple elements are branches, the sites
  branch in its entirety will override the study branch.

-->
<config>
    <tests>
        <!-- Whether or not tests are allowed to modify data.
             should only ever be true on a sandbox, since even though the tests
             try and revert everything, something could potentially go wrong -->
        <testModify>false</testModify>
        <!-- This isn't necessary, but if you want to use a specific candidate to
             check if the instruments work, put the CandID here.. -->
        <!--testCandidate>965327</testCandidate-->
    </tests>

<!-- file paths -->
<paths>
    <imagePath>/PATH/TO/MINC/DATA/ROOT/mri-data/minc/</imagePath>
    <base>/var/www/loris/</base>
    <data>SAME AS imagePath</data>
    <extLibs>/PATH/TO/SMARTY/libs</extLibs>
    <mincPath></mincPath>
    <log>tools/logs/</log>
</paths>

<!-- database settings -->
<database>
    <host>localhost</host>
    <username>lorisuser</username>
    <password>password</password>
    <database>ibis</database>
    <quatUser>lorisuser</quatUser>
    <quatPassword>password</quatPassword>
    <name>ibisdatabase</name>
</database>

<dicom_archive>
    <patientIDRegex>/./</patientIDRegex>
    <patientNameRegex>/./i</patientNameRegex>
    <showTransferStatus>false</showTransferStatus>
</dicom_archive>

<links>
    <link url='this.php?' args=''> Report a Bug (Mantis)</link>
    <link url='that.php?' args=''> Document repository (OWL)</link>
    <link url='theother.php?' args=''> NIHACE Web Site</link>
</links>

<!-- mail settings -->
    <mail>
        <headers>
            <From>nobody@example.com</From>
            <Reply-to>nobody@example.com</Reply-to>
            <X-MimeOLE>Produced by LorisDB</X-MimeOLE>
        </headers>
    </mail>

    <!-- www settings -->
    <www>
        <host>HOSTNAME</host>
        <url>https://HOSTNAME/main.php</url>
        <mantis_url></mantis_url>
    </www>

<!-- study variables -->
    <study>
        <!-- Descriptive study title, appears on top of the screen-->
        <title>Ibis Study</title>
        <!---number of columns the quat table will contain  -->
        <columnThreshold>250</columnThreshold>
        <!-- true/false - use EDC in addition to DoB? -->
        <useEDC>false</useEDC>
        <!-- minimum age in years (0+)-->
        <ageMin>8</ageMin>
        <!-- max subject age in years -->
        <ageMax>32</ageMax>
	<!-- true/false - more than one site in the project? -->
        <multipleSites>true</multipleSites>
        <!-- true/false - use family ID? -->
        <useFamilyID>false</useFamilyID>
	<!-- project's start year -->
        <startYear>2004</startYear>
	<!-- project's end year -->
        <endYear>2047</endYear>

        <PSCID>
	  <!-- PSCID generation method: sequential|random -->
          <generation>user</generation>
          <structure>
            <seq type="alphanumeric" minLength="4"/>
          </structure>
        </PSCID>

        <useProjects>true</useProjects>
        <Projects>
            <project>
                <id>1</id>
                <title>IBIS1</title>
            </project>
            <project>
                <id>2</id>
                <title>IBIS2</title>
            </project>
            <project>
                <id>3</id>
                <title>FragileX</title>
            </project>
            <project>
                <id>4</id>
                <title>EARLI Collaboration</title>
            </project>
        </Projects>

	<!-- number of subprojects in the project - corresponds to the list of subpojects below -->
	<objectives>1</objectives>
	<!-- max number of timepoints per subject (integer)-->
	<visits>1</visits>
	<useScreening>false</useScreening>
	<subprojects>
	    <subproject>
            <id>1</id>
		<title>6 Month Recruit</title>
		<options>
		    <useEDC>false</useEDC>
		</options>
	    </subproject>
		<subproject>
	        <id>2</id>
		<title>12 Month Recruit</title>
		<options>
		    <useEDC>false</useEDC>
		</options>
	    </subproject>
	    <subproject>
	        <id>3</id>
            <title>Control</title>
		<options>
		    <useEDC>false</useEDC>
		</options>
	    </subproject>
        <subproject>
            <id>4</id>
            <title>6 Month Recruits FRX</title>
        <options>
            <useEDC>false</useEDC>
        </options>
        </subproject>
        <subproject>
            <id>5</id>
            <title>12 Month Recruits FRX</title>
        <options>
            <useEDC>false</useEDC>
        </options>
        </subproject>
        <subproject>
            <id>6</id>
            <title>EARLI Sib</title>
        <options>
            <useEDC>false</useEDC>
        </options>
        </subproject>
        <subproject>
            <id>7</id>
            <title>IBIS2 High Risk</title>
        <options>
            <useEDC>false</useEDC>
        </options>
        </subproject>
        <subproject>
            <id>8</id>
            <title>IBIS2 Low Risk</title>
        <options>
            <useEDC>false</useEDC>
        </options>
        </subproject>
    </subprojects>
    <!-- defines how visit labels are assigned -->
    <visitLabel subprojectID="1">
        <!-- generation can have either 'user' or 'sequence' to denote user entered or a pre-defined sequence -->
        <generation>sequence</generation>
        <regex>/^[A-Z0-9]{2}$/i</regex>
        <length>5</length>
        <suggest>V%value%</suggest> <!-- %value% will be substituted for the next unique number -->
    </visitLabel>
    <visitLabel subprojectID="2">
        <!-- generation can have either 'user' or 'sequence' to denote user entered or a pre-defined sequence -->
        <generation>user</generation>
        <regex>/^[A-Z0-9]{2}$/i</regex>
        <length>2</length>
        <suggest>V%value%</suggest> <!-- %value% will be substituted for the next unique number -->
    </visitLabel>
    </study>
<!-- end of study definition -->


    <!-- GUI default settings -->
    <gui>
        <css>main.css</css>
        <rowsPerPage>25</rowsPerPage>
        <showTiming>0</showTiming>
        <showPearErrors>0</showPearErrors>
        <showDatabaseQueries>0</showDatabaseQueries>
        <PopUpFeedbackBVL>1</PopUpFeedbackBVL>
    </gui>


<main_menu_tabs>
    <tab>
        <label>Candidate</label>
        <visible>1</visible>
        <subtab>
            <parent>Candidate</parent>
            <link>main.php?test_name=new_profile</link>
            <label>New Profile</label>
            <access>all</access>
            <permissions>
                <perm>data_entry</perm>
            </permissions>
            <visible>1</visible>
        </subtab>
        <subtab>
            <parent>Candidate</parent>
            <link>main.php?test_name=candidate_list</link>
            <label>Access Profile</label>
            <access>all</access>
            <permissions>
                <perm>data_entry</perm>
            </permissions>
            <visible>1</visible>
        </subtab>
    </tab>

    <tab>
        <label>Clinical</label>
        <visible>1</visible>
        <subtab>
            <parent>Clinical</parent>
            <link>main.php?test_name=reliability</link>
            <label>Reliability Coding</label>
            <access>all</access>
            <permissions>
                <perm>reliability_edit_all</perm>
                <perm>access_all_profiles</perm>
                <perm>EARLI_Reliability</perm>
            </permissions>
            <visible>1</visible>
        </subtab>
        <subtab>
            <parent>Clinical</parent>
            <link>main.php?test_name=blind_coding</link>
            <label>Blind Coding</label>
            <access>all</access>
            <permissions>
                <perm>blind_add_candidates</perm>
            </permissions>
            <visible>0</visible>
        </subtab>
        <subtab>
            <parent>Clinical</parent>
            <link>main.php?test_name=videos</link>
            <label>Videos</label>
            <access>all</access>
            <permissions>
                <perm>earli_videos</perm>
                <perm>video_upload</perm>
            </permissions>
            <visible>0</visible>
        </subtab>
        <subtab>
            <parent>Clinical</parent>
            <link>main.php?test_name=conflicts_resolve</link>
            <label>Conflicts Resolver</label>
            <access>all</access>
            <permissions>
                <perm>data_entry</perm>
            </permissions>
            <visible>1</visible>
        </subtab>
        <subtab>
            <parent>Clinical</parent>
            <link>main.php?test_name=timepoint_flag</link>
            <label>Exclusion</label>
            <access>all</access>
            <permissions>
                <perm>timepoint_flag</perm>
                <perm>timepoint_flag_evaluate</perm>
            </permissions>
            <visible>0</visible>
        </subtab>
        <subtab>
            <parent>Clinical</parent>
            <link>main.php?test_name=mri_parameter_forms</link>
            <label>MRI Parameter forms</label>
            <access>all</access>
            <permissions>
            </permissions>
            <visible>0</visible>
        </subtab>
        <subtab>
            <parent>Clinical</parent>
            <link>main.php?test_name=certification</link>
            <label>Certification</label>
            <access>all</access>
            <permissions>
                <perm>certification</perm>
                <perm>certification_multisite</perm>
            </permissions>
            <visible>1</visible>
        </subtab>
    </tab>
    <tab>
        <label>Imaging</label>
        <visible>1</visible>
        <subtab>
            <parent>Imaging</parent>
            <link>main.php?test_name=final_radiological_review</link>
            <label>Radiological Reviews</label>
            <access>all</access>
            <permissions>
                <perm>edit_final_radiological_review</perm>
                <perm>view_final_radiological_review</perm>
            </permissions>
            <visible>1</visible>
        </subtab>
        <subtab>
            <parent>Imaging</parent>
            <link>dicom_archive.php?</link>
            <label>Dicom Archive</label>
            <access>all</access>
            <permissions>
            </permissions>
            <visible>1</visible>    
        </subtab>
        <subtab>
            <parent>Imaging</parent>
            <link>mri_browser.php?</link>  
            <label>MRI Browser</label>
            <access>all</access>
            <permissions>   
            </permissions>
            <visible>1</visible>
        </subtab>
    </tab>
    <tab>
        <label>Reports</label>
        <visible>1</visible>
        <subtab>
            <parent>Reports</parent>
            <link>main.php?test_name=statistics</link>
            <label>Database Statistics</label>
            <access>all</access>
            <permissions>
                <perm>data_entry</perm>
            </permissions>
            <visible>1</visible>
        </subtab>
        <subtab>
            <parent>Reports</parent>
            <link>query_gui.php</link>
            <label>Data Query Tool</label>
            <access>all</access>
            <permissions>
            </permissions>
            <visible>1</visible>
        </subtab>
    </tab>
    <tab>
        <label>Admin</label>
        <visible>1</visible>
        <subtab>
            <parent>Admin</parent>
            <link>main.php?test_name=user_accounts</link>
            <label>User Accounts</label>
            <access>all</access>
            <permissions>
                <perm>user_accounts</perm>
            </permissions>
            <visible>1</visible>
        </subtab>    
    </tab>
	</main_menu_tabs>
</config>

