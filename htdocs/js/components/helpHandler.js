!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports){"use strict";$(document).ready(function(){$("#menu-toggle").click(function(e){e.preventDefault(),$(".wrapper").toggleClass("active")}),$(".help-button").click(function(e){function decodeSpecialChars(text){for(var replacements=["&","<",">",'"',"'"],chars=[/.?amp;/g,"&lt;","&gt;","&quot;","'"],i=0;i<chars.length;i++){var re=new RegExp(chars[i],"gi");re.test(text)&&(text=text.replace(re,replacements[i]))}return text}var helpContent=$("div.help-content");if(helpContent.length)return helpContent.toggle(),void e.preventDefault();var getParams={};getParams.testName=loris.TestName,""!==loris.Subtest&&(getParams.subtest=loris.Subtest),document.cookie="LastUrl=; expires=Thu, 01-Jan-70 00:00:01 GMT;",$.get(loris.BaseURL+"/help_editor/ajax/help.php",getParams,function(content){var wrap,div=document.createElement("div"),btn=document.createElement("BUTTON"),edit=document.createElement("BUTTON"),text=document.createTextNode("Edit"),button=document.createTextNode("Close");"markdown"===content.format?(wrap=document.createElement("div"),wrap.setAttribute("id","help-wrapper"),ReactDOM.render(RMarkdown({content:content.content}),wrap)):(wrap=document.createElement("pre"),wrap.setAttribute("id","help-wrapper"),content.content=decodeSpecialChars(content.content),ReactDOM.render(RDisplayHelp({Topic:content.topic,Content:content.content,Updated:content.updated}),wrap)),btn.appendChild(button),btn.className="btn btn-default",btn.setAttribute("id","helpclose"),edit.appendChild(text),edit.className="btn btn-default",edit.setAttribute("id","helpedit"),div.appendChild(wrap),div.appendChild(btn),loris.userHasPermission("context_help")&&"markdown"!==content.format&&(div.appendChild(edit),edit.addEventListener("click",function(e){e.preventDefault(),document.cookie="LastUrl = "+document.location.toString(),window.open(loris.BaseURL+"/help_editor/edit_help_content/?section="+getParams.testName+"&subsection="+getParams.subtest,"_self")})),document.getElementById("page").appendChild(div),div.setAttribute("class","help-content"),$(div).addClass("visible"),btn.addEventListener("click",function(e){$(div).hide(),e.preventDefault()}),e.preventDefault()},"json")}),$(".dynamictable").DynamicTable(),$(".fileUpload").FileUpload(),swal.setDefaults({confirmButtonColor:"#064785"})}),$(document).ajaxError(function(event,jqxhr,settings,thrownError){401===jqxhr.status&&($("#login-modal").hasClass("in")?$("#login-modal-error").show():($("#login-modal").modal("show"),$("#modal-login").click(function(e){e.preventDefault();var data={username:$("#modal-username").val(),password:$("#modal-password").val(),login:"Login"};$.ajax({type:"post",url:loris.BaseURL+"/main.php",data:data,success:function(){$("#login-modal-error").hide(),$("#login-modal").modal("hide")}})})))})}]);
//# sourceMappingURL=helpHandler.js.map