<IfModule mod_rewrite.c>
 RewriteEngine on

# FIXME: The /module/$name/ajax directory needs to be replaced with real NDB_Pages that
# remove the page decoration middlewares, but for now we need to keep this helper script.
RewriteRule ^([a-zA-Z_-]+)/ajax/([a-zA-Z0-9_.-]+)$ AjaxHelper.php?Module=$1&script=$2 [QSA,L]

# Instruments and reliability still use main.php, for now
RewriteRule ^instruments/([a-zA-Z0-9_-]+)/$ main.php?test_name=$1 [QSA,L]
RewriteRule ^instruments/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_.-]+)/$ main.php?test_name=$1&subtest=$2 [QSA,L]

RewriteRule ^([a-zA-Z0-9_-]+)reliability([a-zA-Z0-9_-]*) main.php?test_name=$1reliability$2 [QSA,L]

# Everything else gets rewritten to be handled by index.php, unless it's a file that's served
# directly from apache
RewriteCond "%{REQUEST_FILENAME}" "!-f"
RewriteRule ^(.*)$ index.php?lorispath=$1 [QSA,L]
</IfModule>

