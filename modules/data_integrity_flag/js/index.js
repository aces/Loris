!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _DataIntegrityFlag=__webpack_require__(1),_DataIntegrityFlag2=_interopRequireDefault(_DataIntegrityFlag);$(function(){var dataURL=loris.BaseURL+"/data_integrity_flag/?format=json",dataIntegrity=React.createElement("div",{id:"page-data-integrity"},React.createElement(_DataIntegrityFlag2.default,{Module:"data_integrity_flag",DataURL:dataURL}));ReactDOM.render(dataIntegrity,document.getElementById("lorisworkspace"))})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_SetFlagForm=__webpack_require__(2),_SetFlagForm2=_interopRequireDefault(_SetFlagForm),_columnFormatter=__webpack_require__(3),_columnFormatter2=_interopRequireDefault(_columnFormatter),DataIntegrityFlag=function(_React$Component){function DataIntegrityFlag(props){_classCallCheck(this,DataIntegrityFlag);var _this=_possibleConstructorReturn(this,(DataIntegrityFlag.__proto__||Object.getPrototypeOf(DataIntegrityFlag)).call(this,props));return _this.state={isLoaded:!1,filter:{},formData:{}},_this.fetchData=_this.fetchData.bind(_this),_this.updateFilter=_this.updateFilter.bind(_this),_this}return _inherits(DataIntegrityFlag,_React$Component),_createClass(DataIntegrityFlag,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var _this2=this;$.getJSON(this.props.DataURL,function(data){loris.flagStatusList=data.flagStatusList,_this2.setState({Data:data,isLoaded:!0})}).error(function(error){console.error(error)})}},{key:"updateFilter",value:function(filter){this.setState({filter:filter})}},{key:"render",value:function(){if(!this.state.isLoaded)return React.createElement("button",{className:"btn-info has-spinner"},"Loading",React.createElement("span",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate"}));var tabList=[{id:"browse",label:"Browse"},{id:"setflag",label:"Update"}];return React.createElement(Tabs,{tabs:tabList,defaultTab:"browse",updateURL:!0},React.createElement(TabPane,{TabId:tabList[0].id},React.createElement(FilterForm,{Module:this.props.Module,name:"data_integrity_filter",id:"data_integrity_filter",columns:2,onUpdate:this.updateFilter,filter:this.state.filter},React.createElement(SelectElement,{name:"visitLabel",label:"Visit Label",options:this.state.Data.visits}),React.createElement(SelectElement,{name:"instrument",label:"Instrument",options:this.state.Data.instruments}),React.createElement(SelectElement,{name:"userID",label:"User",options:this.state.Data.users}),React.createElement(SelectElement,{name:"flagStatus",label:"Flag Status",options:this.state.Data.flagStatusList}),React.createElement(ButtonElement,{label:"Clear Filters",type:"reset"})),React.createElement(StaticDataTable,{Data:this.state.Data.Data,Headers:this.state.Data.Headers,Filter:this.state.filter,getFormattedCell:_columnFormatter2.default})),React.createElement(TabPane,{TabId:tabList[1].id},React.createElement(_SetFlagForm2.default,{visits:this.state.Data.visits,instruments:this.state.Data.instruments,flagStatusList:this.state.Data.flagStatusList,updateData:this.fetchData})))}}]),DataIntegrityFlag}(React.Component);exports.default=DataIntegrityFlag},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SetFlagForm=function(_React$Component){function SetFlagForm(props){_classCallCheck(this,SetFlagForm);var _this=_possibleConstructorReturn(this,(SetFlagForm.__proto__||Object.getPrototypeOf(SetFlagForm)).call(this,props));return _this.state={formData:{}},_this.setFormData=_this.setFormData.bind(_this),_this.handleSubmit=_this.handleSubmit.bind(_this),_this}return _inherits(SetFlagForm,_React$Component),_createClass(SetFlagForm,[{key:"setFormData",value:function(formElement,value){var formData=JSON.parse(JSON.stringify(this.state.formData));formData[formElement]=value,this.setState({formData:formData})}},{key:"handleSubmit",value:function(e){e.preventDefault(),$.ajax({type:"POST",url:"/data_integrity_flag/",data:JSON.stringify(this.state.formData),cache:!1,contentType:!1,processData:!1,success:function(data){swal({title:"Success!",type:"success"}),this.props.updateData(),this.setState({formData:{}})}.bind(this),error:function(err){console.error(err),swal({title:"Error!",type:"error",content:err.statusText})}})}},{key:"render",value:function(){return React.createElement("div",{className:"col-md-8 col-lg-6"},React.createElement(FormElement,{name:"flag_form",onSubmit:this.handleSubmit},React.createElement("h3",{className:"text-center"},"Update Instrument Status"),React.createElement("br",null),React.createElement(SelectElement,{name:"visitLabel",label:"Visit Label",options:this.props.visits,onUserInput:this.setFormData,value:this.state.formData.visitLabel,required:!0}),React.createElement(SelectElement,{name:"instrument",label:"Instrument",options:this.props.instruments,onUserInput:this.setFormData,value:this.state.formData.instrument,required:!0}),React.createElement(DateElement,{name:"date",label:"Date",onUserInput:this.setFormData,value:this.state.formData.date,required:!0}),React.createElement(SelectElement,{name:"flagStatus",label:"Flag Status",options:this.props.flagStatusList,onUserInput:this.setFormData,value:this.state.formData.flagStatus,required:!0}),React.createElement(TextareaElement,{name:"comment",label:"Comment",onUserInput:this.setFormData,value:this.state.formData.comment}),React.createElement(ButtonElement,{label:"Update"})))}}]),SetFlagForm}(React.Component);SetFlagForm.propTypes={},SetFlagForm.defaultProps={},exports.default=SetFlagForm},function(module,exports){"use strict";function formatColumn(column,cell,rowData,rowHeaders){if(loris.hiddenHeaders.indexOf(column)>-1)return null;var row={};if(rowHeaders.forEach(function(header,index){row[header]=rowData[index]},this),"Instrument"===column){var url=loris.BaseURL+"/data_team_helper/?visit_label="+row["Visit Label"]+"&instrument="+row.Instrument;return React.createElement("td",null,React.createElement("a",{href:url},cell))}if("Flag Status"===column){var statusList=loris.flagStatusList;return Object.keys(statusList).length>0&&statusList[cell]?React.createElement("td",null,statusList[cell]):React.createElement("td",null,cell)}return React.createElement("td",null,cell)}Object.defineProperty(exports,"__esModule",{value:!0}),loris.hiddenHeaders=[],exports.default=formatColumn}]);
//# sourceMappingURL=index.js.map