(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=34)})({0:function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(2)}else{}},1:function(module,exports,__webpack_require__){if(false){var throwOnDirectAccess,isValidElement,REACT_ELEMENT_TYPE}else{module.exports=__webpack_require__(4)()}},2:function(module,exports,__webpack_require__){"use strict";
/** @license React v16.5.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m=__webpack_require__(3),n="function"===typeof Symbol&&Symbol.for,p=n?Symbol.for("react.element"):60103,q=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,t=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,v=n?Symbol.for("react.provider"):60109,w=n?Symbol.for("react.context"):60110,x=n?Symbol.for("react.async_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112;n&&Symbol.for("react.placeholder");var z="function"===typeof Symbol&&Symbol.iterator;function A(a,b,d,c,e,g,h,f){if(!a){a=void 0;if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[d,c,e,g,h,f],l=0;a=Error(b.replace(/%s/g,function(){return k[l++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a}}function B(a){for(var b=arguments.length-1,d="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=0;c<b;c++)d+="&args[]="+encodeURIComponent(arguments[c+1]);A(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",d)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};function E(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}E.prototype.isReactComponent={};E.prototype.setState=function(a,b){"object"!==typeof a&&"function"!==typeof a&&null!=a?B("85"):void 0;this.updater.enqueueSetState(this,a,b,"setState")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E.prototype;function G(a,b,d){this.props=a;this.context=b;this.refs=D;this.updater=d||C}var H=G.prototype=new F;H.constructor=G;m(H,E.prototype);H.isPureReactComponent=!0;var I={current:null,currentDispatcher:null},J=Object.prototype.hasOwnProperty,K={key:!0,ref:!0,__self:!0,__source:!0};function L(a,b,d){var c=void 0,e={},g=null,h=null;if(null!=b)for(c in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(g=""+b.key),b)J.call(b,c)&&!K.hasOwnProperty(c)&&(e[c]=b[c]);var f=arguments.length-2;if(1===f)e.children=d;else if(1<f){for(var k=Array(f),l=0;l<f;l++)k[l]=arguments[l+2];e.children=k}if(a&&a.defaultProps)for(c in f=a.defaultProps,f)void 0===e[c]&&(e[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:h,props:e,_owner:I.current}}function M(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function N(a){return"object"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}var O=/\/+/g,P=[];function Q(a,b,d,c){if(P.length){var e=P.pop();e.result=a;e.keyPrefix=b;e.func=d;e.context=c;e.count=0;return e}return{result:a,keyPrefix:b,func:d,context:c,count:0}}function R(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>P.length&&P.push(a)}function S(a,b,d,c){var e=typeof a;if("undefined"===e||"boolean"===e)a=null;var g=!1;if(null===a)g=!0;else switch(e){case"string":case"number":g=!0;break;case"object":switch(a.$$typeof){case p:case q:g=!0}}if(g)return d(c,a,""===b?"."+T(a,0):b),1;g=0;b=""===b?".":b+":";if(Array.isArray(a))for(var h=0;h<a.length;h++){e=a[h];var f=b+T(e,h);g+=S(e,f,d,c)}else if(null===a||"object"!==typeof a?f=null:(f=z&&a[z]||a["@@iterator"],f="function"===typeof f?f:null),"function"===typeof f)for(a=f.call(a),h=0;!(e=a.next()).done;)e=e.value,f=b+T(e,h++),g+=S(e,f,d,c);else"object"===e&&(d=""+a,B("31","[object Object]"===d?"object with keys {"+Object.keys(a).join(", ")+"}":d,""));return g}function U(a,b,d){return null==a?0:S(a,"",b,d)}function T(a,b){return"object"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function V(a,b){a.func.call(a.context,b,a.count++)}function aa(a,b,d){var c=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?W(a,c,d,function(a){return a}):null!=a&&(N(a)&&(a=M(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+d)),c.push(a))}function W(a,b,d,c,e){var g="";null!=d&&(g=(""+d).replace(O,"$&/")+"/");b=Q(b,g,c,e);U(a,aa,b);R(b)}function ba(a,b){var d=I.currentDispatcher;null===d?B("277"):void 0;return d.readContext(a,b)}var X={Children:{map:function(a,b,d){if(null==a)return a;var c=[];W(a,c,null,b,d);return c},forEach:function(a,b,d){if(null==a)return a;b=Q(null,null,b,d);U(a,V,b);R(b)},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];W(a,b,null,function(a){return a});return b},only:function(a){N(a)?void 0:B("143");return a}},createRef:function(){return{current:null}},Component:E,PureComponent:G,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,Provider:null,Consumer:null,unstable_read:null};a.Provider={$$typeof:v,_context:a};a.Consumer=a;a.unstable_read=ba.bind(null,a);return a},forwardRef:function(a){return{$$typeof:y,render:a}},Fragment:r,StrictMode:t,unstable_AsyncMode:x,unstable_Profiler:u,createElement:L,cloneElement:function(a,b,d){null===a||void 0===a?B("267",a):void 0;var c=void 0,e=m({},a.props),g=a.key,h=a.ref,f=a._owner;if(null!=b){void 0!==b.ref&&(h=b.ref,f=I.current);void 0!==b.key&&(g=""+b.key);var k=void 0;a.type&&a.type.defaultProps&&(k=a.type.defaultProps);for(c in b)J.call(b,c)&&!K.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==k?k[c]:b[c])}c=arguments.length-2;if(1===c)e.children=d;else if(1<c){k=Array(c);for(var l=0;l<c;l++)k[l]=arguments[l+2];e.children=k}return{$$typeof:p,type:a.type,key:g,ref:h,props:e,_owner:f}},createFactory:function(a){var b=L.bind(null,a);b.type=a;return b},isValidElement:N,version:"16.5.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:I,assign:m}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z},3:function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},34:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}
/**
 *  The following file contains the components used for displaying the tab content
 *
 *  @author   Dave MacFarlane <david.macfarlane2@mcgill.ca>
 *  @author   Jordan Stirling <jstirling91@gmail.com>
 *  @license  http://www.gnu.org/licenses/gpl-3.0.txt GPLv3
 *  @link     https://github.com/mohadesz/Loris-Trunk
 */var Loading=function(_Component){_inherits(Loading,_Component);function Loading(props){var _this;_classCallCheck(this,Loading);_this=_possibleConstructorReturn(this,_getPrototypeOf(Loading).call(this,props));_this.state={};return _this}_createClass(Loading,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",{className:"text-center loading-header"},"We are currently working hard to load your data. Please be patient."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"spinner"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"bounce1"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"bounce2"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"bounce3"})))}}]);return Loading}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);var TabPane=function(_Component2){_inherits(TabPane,_Component2);function TabPane(props){var _this2;_classCallCheck(this,TabPane);_this2=_possibleConstructorReturn(this,_getPrototypeOf(TabPane).call(this,props));_this2.state={};return _this2}_createClass(TabPane,[{key:"render",value:function render(){var classList="tab-pane";if(this.props.Active){classList+=" active"}if(this.props.Loading){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:classList,id:this.props.TabId},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Loading,null))}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:classList,id:this.props.TabId},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",null,this.props.Title),this.props.children)}}]);return TabPane}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);var InfoTabPane=function(_Component3){_inherits(InfoTabPane,_Component3);function InfoTabPane(props){var _this3;_classCallCheck(this,InfoTabPane);_this3=_possibleConstructorReturn(this,_getPrototypeOf(InfoTabPane).call(this,props));_this3.state={};return _this3}_createClass(InfoTabPane,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TabPane,{Title:"Welcome to the Data Query Tool",TabId:this.props.TabId,Active:true,Loading:this.props.Loading},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Data was last updated on ",this.props.UpdatedTime,"."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Please define or use your query by using the following tabs."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dl",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt",null,"Define Fields"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd",null,"Define the fields to be added to your query here."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt",null,"Define Filters"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd",null,"Define the criteria to filter the data for your query here."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt",null,"View Data"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd",null,"See the results of your query."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt",null,"Statistical Analysis"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd",null,"Visualize or see basic statistical measures from your query here."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt",null,"Load Saved Query"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd",null,"Load a previously saved query (by name) by selecting from this menu."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt",null,"Manage Saved Queries"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd",null,"Either save your current query or see the criteria of previously saved quer ies here.")))}}]);return InfoTabPane}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);var FieldSelectTabPane=function(_Component4){_inherits(FieldSelectTabPane,_Component4);function FieldSelectTabPane(props){var _this4;_classCallCheck(this,FieldSelectTabPane);_this4=_possibleConstructorReturn(this,_getPrototypeOf(FieldSelectTabPane).call(this,props));_this4.state={};return _this4}_createClass(FieldSelectTabPane,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FieldSelector,{title:"Fields",items:this.props.categories,onFieldChange:this.props.onFieldChange,selectedFields:this.props.selectedFields,Visits:this.props.Visits,fieldVisitSelect:this.props.fieldVisitSelect}))}}]);return FieldSelectTabPane}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);var FilterSelectTabPane=function(_Component5){_inherits(FilterSelectTabPane,_Component5);function FilterSelectTabPane(props){var _this5;_classCallCheck(this,FilterSelectTabPane);_this5=_possibleConstructorReturn(this,_getPrototypeOf(FilterSelectTabPane).call(this,props));_this5.state={};return _this5}_createClass(FilterSelectTabPane,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FilterBuilder,{items:this.props.categories,updateFilter:this.props.updateFilter,filter:this.props.filter,Visits:this.props.Visits}))}}]);return FilterSelectTabPane}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);var ViewDataTabPane=function(_Component6){_inherits(ViewDataTabPane,_Component6);function ViewDataTabPane(props){var _this6;_classCallCheck(this,ViewDataTabPane);_this6=_possibleConstructorReturn(this,_getPrototypeOf(ViewDataTabPane).call(this,props));_this6.state={sessions:[]};_this6.runQuery=_this6.props.runQuery.bind(_assertThisInitialized(_assertThisInitialized(_this6)));_this6.changeDataDisplay=_this6.changeDataDisplay.bind(_assertThisInitialized(_assertThisInitialized(_this6)));_this6.getOrCreateProgressElement=_this6.getOrCreateProgressElement.bind(_assertThisInitialized(_assertThisInitialized(_this6)));_this6.getOrCreateDownloadLink=_this6.getOrCreateDownloadLink.bind(_assertThisInitialized(_assertThisInitialized(_this6)));_this6.downloadData=_this6.downloadData.bind(_assertThisInitialized(_assertThisInitialized(_this6)));return _this6}_createClass(ViewDataTabPane,[{key:"changeDataDisplay",value:function changeDataDisplay(displayID){this.props.changeDataDisplay(displayID)}},{key:"getOrCreateProgressElement",value:function getOrCreateProgressElement(id){var element=document.getElementById(id),progress;if(element){return element}progress=document.getElementById("progress");element=document.createElement("div");element.setAttribute("id",id);progress.appendChild(element);return element}},{key:"getOrCreateDownloadLink",value:function getOrCreateDownloadLink(fileName,type){var element=document.getElementById("DownloadLink"+fileName),parentEl,el2;if(element){return element}parentEl=document.getElementById("downloadlinksUL");element=document.createElement("a");element.download=fileName;element.type=type;element.textContent="Zip file: "+fileName;element.setAttribute("id","DownloadLink"+fileName);el2=document.createElement("li");el2.appendChild(element);parentEl.appendChild(el2);return element}},{key:"downloadData",value:function downloadData(){var zip=new JSZip,i=0,FileList=this.props.FileData,CompleteMask=new Array(FileList.length),saveworker,dataURLs=[],that=this,multiLinkHandler=function multiLinkHandler(buffer){return function(ce){var downloadLink=document.getElementById("DownloadLink"),dv=new DataView(buffer),blb;ce.preventDefault();blb=new Blob([dv],{type:"application/zip"});downloadLink.href=window.URL.createObjectURL(blb);downloadLink.download=this.download;downloadLink.type="application/zip";downloadLink.click();window.URL.revokeObjectURL(downloadLink.href)}};window.dataBlobs=[];if(FileList.length<100||confirm("You are trying to download more than 100 files. This may be slow or crash your web browser.\n\nYou may want to consider splitting your query into more, smaller queries by defining more restrictive filters.\n\nPress OK to continue with attempting to download current files or cancel to abort.")){saveworker=new Worker(loris.BaseURL+"/GetJS.php?Module=dataquery&file=workers/savezip.js");saveworker.addEventListener("message",function(e){var link,progress,FileName,NewFileName,downloadLinks,i;if(e.data.cmd==="SaveFile"){progress=that.getOrCreateProgressElement("download_progress");window.dataBlobs[e.data.FileNo-1]=new Blob([e.data.buffer],{type:"application/zip"});dataURLs[e.data.FileNo-1]=window.URL.createObjectURL(window.dataBlobs[e.data.FileNo-1]);link=that.getOrCreateDownloadLink(e.data.Filename,"application/zip");link.href=dataURLs[e.data.FileNo-1];progress=that.getOrCreateProgressElement("zip_progress");progress.textContent=""}else if(e.data.cmd==="Progress"){progress=that.getOrCreateProgressElement("download_progress");progress.innerHTML='Downloading files: <progress value="'+e.data.Complete+'" max="'+e.data.Total+'">'+e.data.Complete+" out of "+e.data.Total+"</progress>"}else if(e.data.cmd==="Finished"){if(dataURLs.length===1){$("#downloadlinksUL li a")[0].click()}if(dataURLs.length>1){progress=document.getElementById("downloadlinks");progress.style.display="initial";downloadLinks=$("#downloadlinksUL li a");for(i=0;i<dataURLs.length;i+=1){FileName=downloadLinks[i].id.slice("DownloadLinkFiles-".length,-4);NewFileName="files-"+FileName+"of"+e.data.NumFiles+".zip";downloadLinks[i].download=NewFileName;downloadLinks[i].href=dataURLs[i];downloadLinks[i].textContent="Zip file: "+NewFileName}}progress=that.getOrCreateProgressElement("download_progress");progress.textContent="Finished generating zip files"}else if(e.data.cmd==="CreatingZip"){progress=that.getOrCreateProgressElement("zip_progress");progress.textContent="Creating a zip file with current batch of downloaded files. Process may be slow before proceeding."}});saveworker.postMessage({Files:FileList,BaseURL:loris.BaseURL})}}},{key:"render",value:function render(){var downloadData;var buttons=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"commands col-xs-12 form-group"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{className:"btn btn-primary",onClick:this.runQuery},"Run Query"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{className:"btn btn-primary",onClick:this.downloadData},"Download Data as ZIP")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"progress",className:"col-xs-12"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"downloadlinks",className:"col-xs-12"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",{id:"downloadlinksUL"})));var criteria=[];for(var el in this.props.Criteria){if(!this.props.Criteria.hasOwnProperty(el)){continue}var item=this.props.Criteria[el];if(item===undefined){criteria.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"alert alert-warning",role:"alert"},el," has been added as a filter but not had criteria defined."))}else{criteria.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"col-sm-3"},el),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"col-sm-3"},item.operator),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"col-sm-3"},item.value)))}}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,"Query Criteria"),criteria," ",buttons,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"form-group form-horizontal row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",{for:"selected-input",className:"col-sm-1 control-label"},"Data"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"col-sm-4"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"btn-group"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{id:"selected-input",type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{id:"search_concept"},this.props.displayType),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"caret"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",{className:"dropdown-menu",role:"menu"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{onClick:this.changeDataDisplay.bind(this,0)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"col-sm-12"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h5",{className:""},"Cross-sectional"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{onClick:this.changeDataDisplay.bind(this,1)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"col-sm-12"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h5",{className:""},"Longitudinal"))))))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StaticDataTable,{Headers:this.props.RowHeaders,RowNumLabel:"Identifiers",Data:this.props.Data,RowNameMap:this.props.RowInfo}))}}]);return ViewDataTabPane}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);ViewDataTabPane.propTypes={runQuery:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired};var ScatterplotGraph=function(_Component7){_inherits(ScatterplotGraph,_Component7);function ScatterplotGraph(props){var _this7;_classCallCheck(this,ScatterplotGraph);_this7=_possibleConstructorReturn(this,_getPrototypeOf(ScatterplotGraph).call(this,props));_this7.state={};_this7.lsFit=_this7.lsFit.bind(_assertThisInitialized(_assertThisInitialized(_this7)));_this7.minmaxx=_this7.minmaxx.bind(_assertThisInitialized(_assertThisInitialized(_this7)));_this7.updateScatterplot=_this7.updateScatterplot.bind(_assertThisInitialized(_assertThisInitialized(_this7)));return _this7}_createClass(ScatterplotGraph,[{key:"lsFit",value:function lsFit(data){var i=0,means=jStat(data).mean(),xmean=means[0],ymean=means[1],interim=0,numerator=0,denominator=0,slope,xi,yi;for(i=0;i<data.length;i+=1){xi=data[i][0];yi=data[i][1];numerator+=(xi-xmean)*(yi-ymean);denominator+=(xi-xmean)*(xi-xmean)}slope=numerator/denominator;return[ymean-slope*xmean,slope]}},{key:"minmaxx",value:function minmaxx(arr){var i,min,max;for(i=0;i<arr.length;i+=1){if(arr[i][0]<min||min===undefined){if(arr[i][0]!==undefined&&arr[i][0]!==null){min=arr[i][0]}}if(arr[i][0]>max||max===undefined){if(arr[i][0]!==undefined&&arr[i][0]!==null){max=arr[i][0]}}}return[min,max]}},{key:"updateScatterplot",value:function updateScatterplot(){var xaxis=document.getElementById("scatter-xaxis").value,yaxis=document.getElementById("scatter-yaxis").value,grouping=document.getElementById("scatter-group").value,data=this.props.Data,points=[],min,max,field1=[],field2=[],grouped_points={},i=0,group_label,minmax,LS,slope,start,plots=[],label,plotY=function plotY(x){return[x,start+slope*x]},dataset;for(i=0;i<data.length;i+=1){points.push([data[i][xaxis],data[i][yaxis]]);field1.push(data[i][xaxis]);field2.push(data[i][yaxis]);if(grouping){group_label=data[i][grouping];if(!(grouped_points[group_label]instanceof Array)){grouped_points[group_label]=[]}grouped_points[group_label].push([data[i][xaxis],data[i][yaxis]])}}if(grouping==="ungrouped"){minmax=this.minmaxx(points);min=minmax[0];max=minmax[1];LS=this.lsFit(points);slope=LS[1];start=LS[0];$.plot("#scatterplotdiv",[{label:"Data Points",data:points,points:{show:true}},{label:"Least Squares Fit",data:jStat.seq(min,max,3,plotY),lines:{show:true}}],{})}else{minmax=this.minmaxx(points);min=minmax[0];max=minmax[1];i=0;for(dataset in grouped_points){if(grouped_points.hasOwnProperty(dataset)){label=document.getElementById("scatter-group").selectedOptions.item(0).textContent+" = "+dataset;plots.push({color:i,label:dataset,data:grouped_points[dataset],points:{show:true}});LS=this.lsFit(grouped_points[dataset]);slope=LS[1];start=LS[0];plots.push({color:i,data:jStat.seq(min,max,3,plotY),lines:{show:true}});i+=1}}$.plot("#scatterplotdiv",plots,{})}$("#correlationtbl tbody").children().remove();$("#correlationtbl tbody").append("<tr><td>"+jStat.covariance(field1,field2)+"</td><td>"+jStat.corrcoeff(field1,field2)+"</td></tr>")}},{key:"render",value:function render(){var options=this.props.Fields.map(function(element,key){console.log(element);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{value:key},element)}),scatterStyle={width:"500px",height:"500px"};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,"Scatterplot"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"col-xs-4 col-md-3"},"Column for X Axis"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"col-xs-8 col-md-3"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select",{id:"scatter-xaxis",onChange:this.updateScatterplot},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",null,"None"),options)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"col-xs-4 col-md-3"},"Column for Y Axis"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"col-xs-8 col-md-3"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select",{id:"scatter-yaxis",onChange:this.updateScatterplot},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",null,"None"),options)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"col-xs-4 col-md-3"},"Group by column"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"col-xs-8 col-md-3"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select",{id:"scatter-group",onChange:this.updateScatterplot},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",null,"None"),options)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"Scatterplot"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{id:"scatterplotdiv",style:scatterStyle}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"Statistics"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table",{id:"correlationtbl"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Covariance"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Correlation Coefficient"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody",null)))}}]);return ScatterplotGraph}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);var StatsVisualizationTabPane=function(_Component8){_inherits(StatsVisualizationTabPane,_Component8);function StatsVisualizationTabPane(props){var _this8;_classCallCheck(this,StatsVisualizationTabPane);_this8=_possibleConstructorReturn(this,_getPrototypeOf(StatsVisualizationTabPane).call(this,props));_this8.state={displayed:false};return _this8}_createClass(StatsVisualizationTabPane,[{key:"render",value:function render(){var content=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Statistics not yet calculated.");if(this.props.Data.length===0){var _content=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Could not calculate stats, query not run")}else{var stats=jStat(this.props.Data),min=stats.min(),max=stats.max(),stddev=stats.stdev(),mean=stats.mean(),meandev=stats.meandev(),meansqerr=stats.meansqerr(),quartiles=stats.quartiles(),rows=[];for(var i=0;i<this.props.Fields.length;i+=1){rows.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,this.props.Fields[i]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,min[i]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,max[i]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,stddev[i]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,mean[i]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,meandev[i]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,meansqerr[i]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,quartiles[i][0]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,quartiles[i][1]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,quartiles[i][2])))}var statsTable=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table",{className:"table table-hover table-primary table-bordered colm-freeze"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",{className:"info"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Measure"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Min"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Max"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Standard Deviation"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Mean"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Mean Deviation"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Mean Squared Error"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"First Quartile"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Second Quartile"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Third Quartile"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody",null,rows));var _content2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,"Basic Statistics"),statsTable,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ScatterplotGraph,{Fields:this.props.Fields,Data:this.props.Data}))}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading},content)}}]);return StatsVisualizationTabPane}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);StatsVisualizationTabPane.propTypes={Data:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array};StatsVisualizationTabPane.defaultProps={Data:[]};var SaveQueryDialog=function(_Component9){_inherits(SaveQueryDialog,_Component9);function SaveQueryDialog(props){var _this9;_classCallCheck(this,SaveQueryDialog);_this9=_possibleConstructorReturn(this,_getPrototypeOf(SaveQueryDialog).call(this,props));_this9.state={queryName:"",shared:false};_this9.editName=_this9.editName.bind(_assertThisInitialized(_assertThisInitialized(_this9)));_this9.editPublic=_this9.editPublic.bind(_assertThisInitialized(_assertThisInitialized(_this9)));_this9.onSaveClicked=_this9.onSaveClicked.bind(_assertThisInitialized(_assertThisInitialized(_this9)));_this9.onDismissClicked=_this9.onDismissClicked.bind(_assertThisInitialized(_assertThisInitialized(_this9)));return _this9}_createClass(SaveQueryDialog,[{key:"editName",value:function editName(e){this.setState({queryName:e.target.value})}},{key:"editPublic",value:function editPublic(e){this.setState({shared:e.target.checked})}},{key:"onSaveClicked",value:function onSaveClicked(){if(this.props.onSaveClicked){this.props.onSaveClicked(this.state.queryName,this.state.shared)}}},{key:"onDismissClicked",value:function onDismissClicked(){if(this.props.onDismissClicked){this.props.onDismissClicked()}}},{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"modal show"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"modal-dialog"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"modal-content"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"modal-header"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:this.onDismissClicked},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{"aria-hidden":"true"},"×")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4",{className:"modal-title",id:"myModalLabel"},"Save Current Query")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"modal-body"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Enter the name you would like to save your query under here:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"input-group"},"Query Name: ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"text",className:"form-control",placeholder:"My Query",value:this.state.queryName,onChange:this.editName})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Make query a publicly shared query? ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",checked:this.state.shared?"checked":"",onChange:this.editPublic,"aria-label":"Shared Query"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"modal-footer"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{type:"button",className:"btn btn-default",onClick:this.onDismissClicked},"Close"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.onSaveClicked},"Save changes")))))}}]);return SaveQueryDialog}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);var ManageSavedQueryFilter=function(_Component10){_inherits(ManageSavedQueryFilter,_Component10);function ManageSavedQueryFilter(props){var _this10;_classCallCheck(this,ManageSavedQueryFilter);_this10=_possibleConstructorReturn(this,_getPrototypeOf(ManageSavedQueryFilter).call(this,props));_this10.state={};return _this10}_createClass(ManageSavedQueryFilter,[{key:"render",value:function render(){var filterItem,filter=this.props.filterItem;if(filter.activeOperator){var logicOp="AND",children=filter.children.map(function(element,key){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ManageSavedQueryFilter,{filterItem:element})});if(filter.activeOperator===1){logicOp="OR"}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,logicOp),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",{className:"savedQueryTree"},children))}else{filter=this.props.filterItem;if(filter.instrument){var operator;switch(filter.operator){case"equal":operator="=";break;case"notEqual":operator="!=";break;case"lessThanEqual":operator="<=";break;case"greaterThanEqual":operator=">=";break;default:operator=filter.operator;break}filterItem=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,filter.instrument,",",filter.field," ",operator," ",filter.value)}else{filterItem=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,filter.Field," ",filter.Operator," ",filter.Value)}}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,filterItem)}}]);return ManageSavedQueryFilter}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);var ManageSavedQueryRow=function(_Component11){_inherits(ManageSavedQueryRow,_Component11);function ManageSavedQueryRow(props){var _this11;_classCallCheck(this,ManageSavedQueryRow);_this11=_possibleConstructorReturn(this,_getPrototypeOf(ManageSavedQueryRow).call(this,props));_this11.state={};return _this11}_createClass(ManageSavedQueryRow,[{key:"render",value:function render(){var fields=[];var filters;if(this.props.Query.Fields&&Array.isArray(this.props.Query.Fields)){for(var i=0;i<this.props.Query.Fields.length;i+=1){fields.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,this.props.Query.Fields[i]))}}else if(this.props.Query.Fields){for(var instrument in this.props.Query.Fields){for(var field in this.props.Query.Fields[instrument]){if(field==="allVisits"){continue}else{fields.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,instrument,",",field))}}}}if(fields.length===0){fields.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"No fields defined"))}if(this.props.Query.Conditions){var operator,filter;if(this.props.Query.Conditions.activeOperator){if(this.props.Query.Conditions.children){if(this.props.Query.Conditions.activeOperator===0){operator=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"AND")}else{operator=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"OR")}filter=this.props.Query.Conditions.children.map(function(element,key){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ManageSavedQueryFilter,{filterItem:element})})}else{operator=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"No filters defined")}}else{if(this.props.Query.Conditions.length===0){operator=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"No filters defined")}else{operator=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"AND");filter=this.props.Query.Conditions.map(function(element,key){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ManageSavedQueryFilter,{filterItem:element})})}}filters=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"tree"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",{className:"firstUL savedQueryTree"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,operator,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",{className:"savedQueryTree"},filter))))}if(!filters){filters=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",null,"No filters defined")}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,this.props.Name),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,fields)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",null,filters))}}]);return ManageSavedQueryRow}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);ManageSavedQueryRow.propTypes={Name:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,Query:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object};ManageSavedQueryRow.defaultProps={Name:"Unknown",Query:{Fields:[]}};var ManageSavedQueriesTabPane=function(_Component12){_inherits(ManageSavedQueriesTabPane,_Component12);function ManageSavedQueriesTabPane(props){var _this12;_classCallCheck(this,ManageSavedQueriesTabPane);_this12=_possibleConstructorReturn(this,_getPrototypeOf(ManageSavedQueriesTabPane).call(this,props));_this12.state={savePrompt:false,queriesLoaded:false,queries:{}};_this12.dismissDialog=_this12.dismissDialog.bind(_assertThisInitialized(_assertThisInitialized(_this12)));_this12.saveQuery=_this12.saveQuery.bind(_assertThisInitialized(_assertThisInitialized(_this12)));return _this12}_createClass(ManageSavedQueriesTabPane,[{key:"dismissDialog",value:function dismissDialog(){this.setState({savePrompt:false})}},{key:"saveQuery",value:function saveQuery(){this.setState({savePrompt:true})}},{key:"savedQuery",value:function savedQuery(name,shared){if(this.props.onSaveQuery){this.props.onSaveQuery(name,shared,"false")}this.setState({savePrompt:false})}},{key:"render",value:function render(){var queryRows=[];if(this.props.queriesLoaded){for(var i=0;i<this.props.userQueries.length;i+=1){var query=this.props.queryDetails[this.props.userQueries[i]];var name="Unnamed Query: "+this.props.userQueries[i];if(query.Meta.name){name=query.Meta.name}queryRows.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ManageSavedQueryRow,{Name:name,Query:query}))}}else{queryRows.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{colSpan:"3"},"Loading saved query details")))}var savePrompt="";if(this.state.savePrompt){savePrompt=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SaveQueryDialog,{onDismissClicked:this.dismissDialog,onSaveClicked:this.savedQuery})}var content=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,"Your currently saved queries"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:this.saveQuery},"Save Current Query"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table",{className:"table table-hover table-primary table-bordered colm-freeze"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr",{className:"info"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Query Name"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Fields"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th",null,"Filters"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody",null,queryRows)),savePrompt);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TabPane,{TabId:this.props.TabId,Loading:this.props.Loading},content)}}]);return ManageSavedQueriesTabPane}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);ManageSavedQueriesTabPane.propTypes={userQueries:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,globalQueries:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,queriesLoaded:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,queryDetails:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object};ManageSavedQueriesTabPane.defaultProps={userQueries:[],globalQueries:[],queriesLoaded:false,queryDetails:{}};window.Loading=Loading;window.TabPane=TabPane;window.InfoTabPane=InfoTabPane;window.FieldSelectTabPane=FieldSelectTabPane;window.FilterSelectTabPane=FilterSelectTabPane;window.ViewDataTabPane=ViewDataTabPane;window.ScatterplotGraph=ScatterplotGraph;window.StatsVisualizationTabPane=StatsVisualizationTabPane;window.SaveQueryDialog=SaveQueryDialog;window.ManageSavedQueryFilter=ManageSavedQueryFilter;window.ManageSavedQueryRow=ManageSavedQueryRow;window.ManageSavedQueriesTabPane=ManageSavedQueriesTabPane;__webpack_exports__["default"]={Loading:Loading,TabPane:TabPane,InfoTabPane:InfoTabPane,FieldSelectTabPane:FieldSelectTabPane,FilterSelectTabPane:FilterSelectTabPane,ViewDataTabPane:ViewDataTabPane,ScatterplotGraph:ScatterplotGraph,StatsVisualizationTabPane:StatsVisualizationTabPane,SaveQueryDialog:SaveQueryDialog,ManageSavedQueryFilter:ManageSavedQueryFilter,ManageSavedQueryRow:ManageSavedQueryRow,ManageSavedQueriesTabPane:ManageSavedQueriesTabPane}},4:function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(5);function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");err.name="Invariant Violation";throw err}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};ReactPropTypes.checkPropTypes=emptyFunction;ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},5:function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret}});
//# sourceMappingURL=react.tabs.js.map