sudo: required

language: php

php: 
  - 7.2
  - 7.3
  - "nightly"

env:
  - TEST_SUITE=static
  - TEST_SUITE=unit
  - TEST_SUITE=integration

services:
- docker

install:
- sudo apt-get update
- sudo apt-get install -y libapparmor1
- pecl install -f ast-1.0.3
- sudo apt-get install npm
- make dev

script: "npm run tests:$TEST_SUITE"
