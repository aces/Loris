language: php

php:
    - "7"

sudo: required

services:
  - docker

cache:
    directories:
        - vendor

env:
  - TEST_SUITE=lint:javascript
  - TEST_SUITE=lint:php
  - TEST_SUITE=tests:unit
  - TEST_SUITE=tests:integration

before_install:
    # Ensure node version is up to date
    - nvm install node
    - npm install
install:
    - composer install
script:
    - npm run --silent $TEST_SUITE
